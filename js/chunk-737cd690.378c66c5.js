(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-737cd690"],{"0538":function(e,n,t){"use strict";var r=t("1c0b"),s=t("861d"),c=[].slice,i={},o=function(e,n,t){if(!(n in i)){for(var r=[],s=0;s<n;s++)r[s]="a["+s+"]";i[n]=Function("C,a","return new C("+r.join(",")+")")}return i[n](e,t)};e.exports=Function.bind||function(e){var n=r(this),t=c.call(arguments,1),i=function(){var r=t.concat(c.call(arguments));return this instanceof i?o(n,r.length,r):n.apply(e,r)};return s(n.prototype)&&(i.prototype=n.prototype),i}},1276:function(e,n,t){"use strict";var r=t("d784"),s=t("44e7"),c=t("825a"),i=t("1d80"),o=t("4840"),a=t("8aa5"),u=t("50c4"),l=t("14c3"),f=t("9263"),d=t("d039"),p=[].push,h=Math.min,v=4294967295,g=!d((function(){return!RegExp(v,"y")}));r("split",2,(function(e,n,t){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var r=String(i(this)),c=void 0===t?v:t>>>0;if(0===c)return[];if(void 0===e)return[r];if(!s(e))return n.call(r,e,c);var o,a,u,l=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,g=new RegExp(e.source,d+"g");while(o=f.call(g,r)){if(a=g.lastIndex,a>h&&(l.push(r.slice(h,o.index)),o.length>1&&o.index<r.length&&p.apply(l,o.slice(1)),u=o[0].length,h=a,l.length>=c))break;g.lastIndex===o.index&&g.lastIndex++}return h===r.length?!u&&g.test("")||l.push(""):l.push(r.slice(h)),l.length>c?l.slice(0,c):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,t){var s=i(this),c=void 0==n?void 0:n[e];return void 0!==c?c.call(n,s,t):r.call(String(s),n,t)},function(e,s){var i=t(r,e,this,s,r!==n);if(i.done)return i.value;var f=c(e),d=String(this),p=o(f,RegExp),b=f.unicode,x=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(g?"y":"g"),y=new p(g?f:"^(?:"+f.source+")",x),m=void 0===s?v:s>>>0;if(0===m)return[];if(0===d.length)return null===l(y,d)?[d]:[];var _=0,E=0,R=[];while(E<d.length){y.lastIndex=g?E:0;var P,O=l(y,g?d:d.slice(E));if(null===O||(P=h(u(y.lastIndex+(g?0:E)),d.length))===_)E=a(d,E,b);else{if(R.push(d.slice(_,E)),R.length===m)return R;for(var w=1;w<=O.length-1;w++)if(R.push(O[w]),R.length===m)return R;E=_=P}}return R.push(d.slice(_)),R}]}),!g)},"131a":function(e,n,t){var r=t("23e7"),s=t("d2bb");r({target:"Object",stat:!0},{setPrototypeOf:s})},"14c3":function(e,n,t){var r=t("c6b6"),s=t("9263");e.exports=function(e,n){var t=e.exec;if("function"===typeof t){var c=t.call(e,n);if("object"!==typeof c)throw TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(e,n)}},"25f0":function(e,n,t){"use strict";var r=t("6eeb"),s=t("825a"),c=t("d039"),i=t("ad6d"),o="toString",a=RegExp.prototype,u=a[o],l=c((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=o;(l||f)&&r(RegExp.prototype,o,(function(){var e=s(this),n=String(e.source),t=e.flags,r=String(void 0===t&&e instanceof RegExp&&!("flags"in a)?i.call(e):t);return"/"+n+"/"+r}),{unsafe:!0})},"3ae5":function(e,n,t){"use strict";var r=t("fb77"),s=t.n(r);s.a},"44e7":function(e,n,t){var r=t("861d"),s=t("c6b6"),c=t("b622"),i=c("match");e.exports=function(e){var n;return r(e)&&(void 0!==(n=e[i])?!!n:"RegExp"==s(e))}},"4ae1":function(e,n,t){var r=t("23e7"),s=t("d066"),c=t("1c0b"),i=t("825a"),o=t("861d"),a=t("7c73"),u=t("0538"),l=t("d039"),f=s("Reflect","construct"),d=l((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),p=!l((function(){f((function(){}))})),h=d||p;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,n){c(e),i(n);var t=arguments.length<3?e:c(arguments[2]);if(p&&!d)return f(e,n,t);if(e==t){switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3])}var r=[null];return r.push.apply(r,n),new(u.apply(e,r))}var s=t.prototype,l=a(o(s)?s:Object.prototype),h=Function.apply.call(e,l,n);return o(h)?h:l}})},"4df4":function(e,n,t){"use strict";var r=t("0366"),s=t("7b0b"),c=t("9bdd"),i=t("e95a"),o=t("50c4"),a=t("8418"),u=t("35a1");e.exports=function(e){var n,t,l,f,d,p,h=s(e),v="function"==typeof this?this:Array,g=arguments.length,b=g>1?arguments[1]:void 0,x=void 0!==b,y=u(h),m=0;if(x&&(b=r(b,g>2?arguments[2]:void 0,2)),void 0==y||v==Array&&i(y))for(n=o(h.length),t=new v(n);n>m;m++)p=x?b(h[m],m):h[m],a(t,m,p);else for(f=y.call(h),d=f.next,t=new v;!(l=d.call(f)).done;m++)p=x?c(f,b,[l.value,m],!0):l.value,a(t,m,p);return t.length=m,t}},"68d4":function(e,n,t){"use strict";var r=t("9342"),s=t.n(r);s.a},"8aa5":function(e,n,t){"use strict";var r=t("6547").charAt;e.exports=function(e,n,t){return n+(t?r(e,n).length:1)}},"8dc5":function(e,n,t){},9263:function(e,n,t){"use strict";var r=t("ad6d"),s=t("9f7f"),c=RegExp.prototype.exec,i=String.prototype.replace,o=c,a=function(){var e=/a/,n=/b*/g;return c.call(e,"a"),c.call(n,"a"),0!==e.lastIndex||0!==n.lastIndex}(),u=s.UNSUPPORTED_Y||s.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],f=a||l||u;f&&(o=function(e){var n,t,s,o,f=this,d=u&&f.sticky,p=r.call(f),h=f.source,v=0,g=e;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(h="(?: "+h+")",g=" "+g,v++),t=new RegExp("^(?:"+h+")",p)),l&&(t=new RegExp("^"+h+"$(?!\\s)",p)),a&&(n=f.lastIndex),s=c.call(d?t:f,g),d?s?(s.input=s.input.slice(v),s[0]=s[0].slice(v),s.index=f.lastIndex,f.lastIndex+=s[0].length):f.lastIndex=0:a&&s&&(f.lastIndex=f.global?s.index+s[0].length:n),l&&s&&s.length>1&&i.call(s[0],t,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(s[o]=void 0)})),s}),e.exports=o},9342:function(e,n,t){},"9f7f":function(e,n,t){"use strict";var r=t("d039");function s(e,n){return RegExp(e,n)}n.UNSUPPORTED_Y=r((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),n.BROKEN_CARET=r((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a630:function(e,n,t){var r=t("23e7"),s=t("4df4"),c=t("1c7e"),i=!c((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:i},{from:s})},ac1f:function(e,n,t){"use strict";var r=t("23e7"),s=t("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ad6d:function(e,n,t){"use strict";var r=t("825a");e.exports=function(){var e=r(this),n="";return e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.dotAll&&(n+="s"),e.unicode&&(n+="u"),e.sticky&&(n+="y"),n}},bc13:function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"home"},[t("div",{attrs:{id:"vk_api_transport"}}),t("GetUser"),e.isPersonsExist?t("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[t("Persons",{staticStyle:{"flex-shrink":"0"}}),t("Friends")],1):e._e()],1)},s=[],c=(t("b64b"),t("5530")),i=t("2f62"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userId,expression:"userId"}],ref:"userId",attrs:{placeholder:"id пользователя",disabled:e.loading},domProps:{value:e.userId},on:{keydown:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.search(n)},input:function(n){n.target.composing||(e.userId=n.target.value)}}}),t("button",{attrs:{disabled:!e.userId||e.loading},on:{click:e.search}},[e._v("Поиск")]),t("button",{staticStyle:{"margin-left":"40px"},attrs:{disabled:0===e.chosenPersons.length},on:{click:e.SET_FILTERED_FRIENDS}},[e._v("Построить")])])},a=[],u=(t("96cf"),t("1da1")),l=t("e3e2"),f={name:"GetUser",data:function(){return{userId:"",loading:!1}},computed:Object(c["a"])({},Object(i["d"])(["chosenPersons"])),mounted:function(){this.focus()},methods:Object(c["a"])({},Object(i["c"])([l["b"].SET_FILTERED_FRIENDS,l["b"].SET_ERROR]),{search:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var t,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.userId){n.next=2;break}return n.abrupt("return");case 2:return e.loading=!0,e[l["b"].SET_ERROR](),n.prev=4,n.next=7,e.$http.getFriends(e.userId);case 7:t=n.sent,r=t.user,s=t.friends,e.$store.dispatch("addPerson",{person:r,friends:s}),n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](4),e[l["b"].SET_ERROR](n.t0);case 16:return n.prev=16,e.loading=!1,e.userId="",e.focus(),n.finish(16);case 21:case"end":return n.stop()}}),n,null,[[4,13,16,21]])})))()},focus:function(){var e=this;this.$nextTick((function(){e.$refs.userId.focus()}))}})},d=f,p=(t("3ae5"),t("2877")),h=Object(p["a"])(d,o,a,!1,null,"166837cd",null),v=h.exports,g=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("p",[e._v("Пользователи")]),e._l(e.sortedPersons,(function(e){return t("Person",{key:e,attrs:{id:e}})}))],2)},b=[],x=(t("99af"),function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{class:{active:e.chosenPersonsLocal.includes(e.id),"is-closed":e.person.is_closed},attrs:{id:"component-person"}},[t("label",{staticClass:"person-body",attrs:{title:e.person.is_closed?"Пользователь скрыл страницу, друзья недоступны":null}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.chosenPersonsLocal,expression:"chosenPersonsLocal"}],staticStyle:{display:"none"},attrs:{type:"checkbox",disabled:e.person.is_closed},domProps:{value:e.id,checked:Array.isArray(e.chosenPersonsLocal)?e._i(e.chosenPersonsLocal,e.id)>-1:e.chosenPersonsLocal},on:{change:function(n){var t=e.chosenPersonsLocal,r=n.target,s=!!r.checked;if(Array.isArray(t)){var c=e.id,i=e._i(t,c);r.checked?i<0&&(e.chosenPersonsLocal=t.concat([c])):i>-1&&(e.chosenPersonsLocal=t.slice(0,i).concat(t.slice(i+1)))}else e.chosenPersonsLocal=s}}}),t("div",[t("span",[e._v(e._s(e.person.last_name)+" "+e._s(e.person.first_name))]),t("br"),t("span",[e._v("Пол: "+e._s(e.gender))]),t("br"),t("span",[e._v("Возраст: "+e._s(e.age))]),e.person.is_closed?e._e():[t("br"),t("span",[e._v("Количество друзей: "+e._s(e.person.friendsCount))])]],2)]),t("div",{staticClass:"cancel-button",on:{click:function(n){return e.removePerson(e.id)}}})])}),y=[];t("a9e3"),t("ac1f"),t("1276"),t("d3b7"),t("4ae1"),t("25f0"),t("131a");function m(e,n){return m=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},m(e,n)}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function E(e,n,t){return E=_()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var s=Function.bind.apply(e,r),c=new s;return t&&m(c,t.prototype),c},E.apply(null,arguments)}function R(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}t("a4d3"),t("e01a"),t("d28b"),t("a630"),t("e260"),t("3ca3"),t("ddb0");function P(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function O(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function w(e){return R(e)||P(e)||O()}var j=["не указан","женский","мужской"],S={name:"Person",props:{id:{type:[String,Number],required:!0}},data:function(){return{}},computed:Object(c["a"])({},Object(i["d"])(["persons","chosenPersons"]),{person:function(){return this.persons[this.id]},gender:function(){return j[this.person.sex]},age:function(){if(!this.person.bdate)return"не указано";var e=this.person.bdate.split(".");if(e.length<3)return"не указано";e[1]-=1;var n=E(Date,w(e.reverse()));return Math.floor(((new Date).getTime()-n)/315576e5)},chosenPersonsLocal:{get:function(){return this.chosenPersons},set:function(e){this[l["b"].CHANGE_CHOSEN_PERSONS](e)}}}),methods:Object(c["a"])({},Object(i["b"])(["removePerson"]),{},Object(i["c"])([l["b"].CHANGE_CHOSEN_PERSONS]))},I=S,k=(t("68d4"),Object(p["a"])(I,x,y,!1,null,null,null)),A=k.exports,C={name:"Persons",components:{Person:A},computed:Object(c["a"])({},Object(i["d"])(["persons"]),{sortedPersons:function(){var e=this.persons;return Object.keys(e).sort((function(n,t){var r="".concat(e[n].last_name," ").concat(e[n].first_name),s="".concat(e[t].last_name," ").concat(e[t].first_name);return r>s?1:-1}))}})},T=C,F=Object(p["a"])(T,g,b,!1,null,null,null),N=F.exports,$=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("p",[e._v("Всего друзей: "+e._s(e.friendsWithPersons.length))]),t("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},e._l(e.friendsWithPersons,(function(e){return t("Friend",{key:e.id,attrs:{friend:e}})})),1)])},L=[],D=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("router-link",{staticClass:"friend-item",class:"frequency-"+e.frequency,attrs:{to:{name:"Friend",params:{id:e.friend.id}}}},[t("span",[e._v(e._s(e.friends[e.friend.id].first_name)+" "+e._s(e.friends[e.friend.id].last_name)+" ")])])},U=[],G={name:"Friend",props:{friend:{type:Object,required:!0}},computed:Object(c["a"])({},Object(i["d"])(["friends","filteredPersons"]),{personsCount:function(){return this.friend.persons.length},frequency:function(){return Math.round(this.personsCount/this.filteredPersons.length*7)}})},q=G,H=(t("d2c7"),Object(p["a"])(q,D,U,!1,null,"ebf3e12c",null)),B=H.exports,K={name:"Friends",components:{Friend:B},computed:Object(c["a"])({},Object(i["d"])(["friends","friendsWithPersons"]))},M=K,W=Object(p["a"])(M,$,L,!1,null,null,null),J=W.exports,Y={name:"Home",components:{GetUser:v,Persons:N,Friends:J},computed:Object(c["a"])({},Object(i["d"])(["persons"]),{isPersonsExist:function(){return Object.keys(this.persons).length>0}})},X=Y,z=Object(p["a"])(X,r,s,!1,null,null,null);n["default"]=z.exports},d2c7:function(e,n,t){"use strict";var r=t("8dc5"),s=t.n(r);s.a},d784:function(e,n,t){"use strict";t("ac1f");var r=t("6eeb"),s=t("d039"),c=t("b622"),i=t("9263"),o=t("9112"),a=c("species"),u=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),f=c("replace"),d=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!s((function(){var e=/(?:)/,n=e.exec;e.exec=function(){return n.apply(this,arguments)};var t="ab".split(e);return 2!==t.length||"a"!==t[0]||"b"!==t[1]}));e.exports=function(e,n,t,f){var h=c(e),v=!s((function(){var n={};return n[h]=function(){return 7},7!=""[e](n)})),g=v&&!s((function(){var n=!1,t=/a/;return"split"===e&&(t={},t.constructor={},t.constructor[a]=function(){return t},t.flags="",t[h]=/./[h]),t.exec=function(){return n=!0,null},t[h](""),!n}));if(!v||!g||"replace"===e&&(!u||!l||d)||"split"===e&&!p){var b=/./[h],x=t(h,""[e],(function(e,n,t,r,s){return n.exec===i?v&&!s?{done:!0,value:b.call(n,t,r)}:{done:!0,value:e.call(t,n,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),y=x[0],m=x[1];r(String.prototype,e,y),r(RegExp.prototype,h,2==n?function(e,n){return m.call(e,this,n)}:function(e){return m.call(e,this)})}f&&o(RegExp.prototype[h],"sham",!0)}},fb77:function(e,n,t){}}]);
//# sourceMappingURL=chunk-737cd690.378c66c5.js.map